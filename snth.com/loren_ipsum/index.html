<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="keywords" content="C string, Loren Ipsum, loren_ipsum,
  loren_ipsum.h, C string alternative, strings in C">
  <meta name="description" content="">
  <meta name="author" content="Ben Lorenzetti">
  <title>Loren Ipsum String Library</title>
  <style>
    .code { font-family: monospace; font-size: 10pt; }
    .function-link { font-family: monospace; link-style: none; }
  </style>
</head>

<body>

<article id="top">

<h1>The Loren Ipsum Library</h1>

<p>is a standard set of functions
and data format for doing string manipulations in C.
It handles memory allocation internally to simplify
programming and protect against buffer overflow.
Runtime and memory usage are competitive with &lt;string.h&gt;
and the data format supports multithreading for implementations
compiled with C11 or written for specific architechtures
with atomic integer operations.</p>

<p>The data format is a character array,
but semantically it uses a header byte instead of a null-termination byte.
The header encodes string length and allocation size.
For more information, read about the
<a href="./data_format.html">data format</a>.</p>

<img src="ipsum-data-format.png" alt="Ipsum Data Format"/>

<h2>Contents</h2>
<ol>
  <li><a href="#string-functions">String Functions</a></li>
  <li><a href="#initialization">Dynamic vs Static Initialization</a></li>
  <li><a href="#releasing-memory">Releasing Memory</a></li>
  <li><a href="memory-access-errors">Memory Access Errors</a></li>
  <li><a href="base64-encoding">Base64 Encoding</a></li>
</ol>

<h2 id="string-functions">String Functions</h2>

<table>
  <tr>
    <th></th>
    <th></th>
    <th>Thread Safe?</th>
    <th>Static Strings</th>
  </tr>
  <tr>
    <td><a class="function-link" href="#">lor_init</a></td>
    <td>allocate and initialize dynamic strings.</td>
    <th>no</th>
    <td>(see <a href="initialization">static initialization)</a></td>
  </tr>
  <tr>
    <td><a class="function-link" href="#">lor_free</a></td>
    <td>a wrapper for <span class="code">free()</span>,
        which will block on threadsafe, modifiable strings.</td>
    <th>yes</th>
    <th>-</th>
  </tr>
  <tr>
    <td><a class="function-link" href="#">lor_gc</td>
    <td>a nonblocking "garbage collector", which returns threadsafe,
        read only strings of minimal size.</td>
    <th>yes</th>
    <th>-</th>
  </tr>
</table>

<h2 id="initialization">Dynamic vs Static Initialization</h2>

<h2 id="releasing-memory">Releasing Memory</h2>

<h2 id="memory-access-errors">Memory Access Errors</h2>

<h2 id="base64-encoding">Base64 Encoding</h2>

<p>The <span class="code">lor_</span> functions are similar to those
provided by <span class="code">&lt;string.h&gt;</span>,
except that dynamic memory allocation is done for you.
(Note you still have to initialize and free memory.)
In general memory allocation is done in powers of 2, but
implementations may define minimum and maximum allocation sizes.
</p>

<p>Handling heap allocations saves the programmer
some bookkeeping work and eliminates the risk of buffer overflows.
Use of the length header allows Loren Ipsum strings to hold true
binary data, including zeros,
and reduces runtime complexity for some functions.
For example, <span class="code">lor_strlen()</span> does not
traverse the entire array looking for <span class="code">'\0'</span>.
Furthermore, the data structure and functions lend themselves to
assembly or even hardware optimization, although the implementation
provided below is written for portability.
</p>



</article>
</div>
<footer></footer>
</body>

</html>
